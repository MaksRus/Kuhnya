<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>
			{% block title %}Kuhnya
			{% endblock %}
		</title>
		<link rel="stylesheet" href="{{ asset('assets/css/bootstrap.min.css') }}">
		<link rel="stylesheet" href="{{ asset('assets/css/kuhnya.css') }}"> {% block stylesheets %}{% endblock %}
		</head>
		<body>
			<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
				<a class="navbar-brand" href="/">Kuhnya</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarColor01">
					<ul class="navbar-nav mr-auto">
						<li class="nav-item">
							<a class="nav-link" href="{{ path('kuhnya_showAll') }}">Nos Recettes
								<span class="sr-only">(current)</span>
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="{{ path('kuhnya_bestof') }}">Top 10</a>
						</li>
						{% if app.user and is_granted("ROLE_USER") %}
							<li class="nav-item">
								<a class="nav-link" href="{{ path('recipe_create') }}">Créer une Recette</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="{{ path('profile', {'username' : app.user.username}) }}">Mon Profil</a>
							</li>
						{% endif %}

						{% if app.user and is_granted("ROLE_ADMIN") %}
							<li class="nav-item dropdown">
								<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Admin</a>
								<div class="dropdown-menu">
									<a class="nav-link text-dark" href="{{ path('admin_recipes') }}">Recettes</a>
									<a class="nav-link text-dark" href="{{ path('admin_ingredients') }}">Ingrédients</a>
									<a class="nav-link text-dark" href="{{ path('admin_categories') }}">Catégories</a>
									<a class="nav-link text-dark" href="{{ path('admin_comments') }}">Commentaires</a>
									<a class="nav-link text-dark" href="{{ path('admin_users') }}">Utilisateurs</a>
								</div>
							</li>
						{% endif %}

						{% if not app.user %}
							<li class="nav-item">
								<a class="nav-link" href="{{ path('security_login') }}">Connexion</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="{{ path('security_registration') }}">S'inscrire</a>
							</li>
						{% else %}
							<li class="nav-item">
								<a class="nav-link" href="{{ path('security_logout') }}">Deconnexion</a>
							</li>
						{% endif %}
					</ul>
				</div>
			</nav>
			{% block body %}{% endblock %}

			<script src="https://kit.fontawesome.com/33a218096e.js" crossorigin="anonymous"></script>
			<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
			<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
			<script src="https://kit.fontawesome.com/33a218096e.js" crossorigin="anonymous"></script>
			<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
			<script src="{{ asset('assets/js/cancelConfirm.js')}}"></script>
			{% block javascripts %}{% endblock %}
		</body>
	</html>
